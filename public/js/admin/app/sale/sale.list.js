// Generated by CoffeeScript 1.6.3
var SaleListController,
  __hasProp = {}.hasOwnProperty,
  __extends = function(child, parent) { for (var key in parent) { if (__hasProp.call(parent, key)) child[key] = parent[key]; } function ctor() { this.constructor = child; } ctor.prototype = parent.prototype; child.prototype = new ctor(); child.__super__ = parent.prototype; return child; };

SaleListController = (function(_super) {
  __extends(SaleListController, _super);

  function SaleListController($scope) {
    this.setScope($scope);
    this.datagrid();
  }

  SaleListController.prototype.datagrid = function() {
    var datatable, query;
    datatable = new SalesDataTable();
    query = new Kinvey.Query();
    query.descending("registeredAt");
    query.equalTo('inactivatedAt', null);
    return datatable.setCollectionName("Sales").setDataTableId("datagrid-class").setContainer("#datatable-container").addColumnName("Cliente").addColumnField("customer-name").addColumnName("Valor").addColumnField("net").addColumnFormat('net', 'money').addColumnName("Status da venda").addColumnField("saleStatus-name").addColumnName("Data da venda").addColumnField("registeredAt").addColumnFormat('registeredAt', 'date').addColumnName("Ações").addColumnField("actions").addAction("edit", "/vender/%_id%").addActionTitle("edit", "Editar venda").addAction("remove", "/#%_id%").addActionTitle("remove", "Remover venda").addAction("check", "/meus-pagamentos/%_id%").addActionTitle("check", "Confirmar pagamento").setObjectQuery(query).setAjax(false).setRelations({
      saleStatus: true,
      customer: true
    }).buildDataTable();
  };

  return SaleListController;

})(AngularView);

angularApp.controller('SaleListController', SaleListController);
